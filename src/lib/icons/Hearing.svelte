<script lang="ts">
	import { draw } from 'svelte/transition';
	import chroma from 'chroma-js';

	export let color: string;
	const desat = chroma(color).desaturate(1);
</script>

<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
	<g style="fill: none; stroke-width: 16px; stroke-linecap: round; stroke: {color};">
		<path
			d="M 97.638 194.625 C 97.638 194.625 105.252 110.741 179.357 110.741 C 239.962 110.741 260.244 159.242 260.993 185.972 C 261.722 211.985 262.42 221.855 250.774 249.973 C 243.004 268.73 228.954 284.689 218.407 296.683 C 207.86 308.677 191.669 324.992 176.909 351.878 C 166.346 371.117 151.619 388.736 132.911 389.221 C 114.202 389.706 85.617 386.134 83.982 338.097"
			in:draw
		/>
		<path
			d="M 143.906 306.333 C 143.906 306.333 119.626 301.655 120.941 282.822 C 122.256 263.989 141.112 269.132 143.451 254.591 C 145.789 240.048 121.899 236.194 121.589 226.859 C 121.278 217.524 137.186 213.774 137.348 202.385 C 137.508 190.997 145.707 153.968 177.065 153.193 C 208.423 152.419 223.183 173.308 223.681 196.056"
			in:draw
		/>
		<g style="stroke: {desat.hex()}; opacity: 0.5;">
			<path
				d="M 303.31 208.66 C 314.838 218.447 322.153 233.045 322.153 249.351 C 322.153 266.394 314.161 281.571 301.721 291.339"
				class="animate-pulse"
				style:animation-delay="100ms"
			/>
			<path
				d="M 338.447 174.319 C 357.696 193.165 369.64 219.441 369.64 248.507 C 369.64 279.142 356.371 306.678 335.267 325.681"
				class="animate-pulse"
				style:animation-delay="300ms"
			/>
			<path
				d="M 370.785 141.577 C 398.691 168.795 416.019 206.808 416.019 248.869 C 416.019 292.108 397.707 331.07 368.415 358.423"
				class="animate-pulse"
				style:animation-delay="500ms"
			/>
		</g>
	</g>
</svg>
